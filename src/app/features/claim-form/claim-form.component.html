<div class="card">
  <h2>Crear Nuevo Reclamo</h2>
  <form [formGroup]="claimForm" (ngSubmit)="submitClaim()" class="claim-form">
    <div class="form-group">
      <label for="company">Empresa</label>
      <select id="company" formControlName="company">
        <option value="">Seleccione una empresa</option>
        <option *ngFor="let company of companies" [value]="company">
          {{company}}
        </option>
      </select>
      <div *ngIf="claimForm.get('company')?.invalid && claimForm.get('company')?.touched">
        <span class="error-message">La empresa es requerida</span>
      </div>
    </div>

    <div class="form-group">
      <label for="reason">Motivo</label>
      <select id="reason" formControlName="reason">
        <option value="">Seleccione un motivo</option>
        <option *ngFor="let reason of reasons" [value]="reason">
          {{reason}}
        </option>
      </select>
      <div *ngIf="claimForm.get('reason')?.invalid && claimForm.get('reason')?.touched">
        <span class="error-message">El motivo es requerido</span>
      </div>
    </div>

    <div class="form-group">
      <label for="description">Descripci칩n</label>
      <textarea id="description" formControlName="description" rows="4" placeholder="Describa el detalle de su reclamo">
      </textarea>
      <div *ngIf="claimForm.get('description')?.invalid && claimForm.get('description')?.touched">
        <span class="error-message">La descripci칩n es requerida</span>
      </div>
    </div>

    <div class="form-group">
      <label for="email">Correo electr칩nico</label>
      <input type="email"
             id="email"
             formControlName="email"
             placeholder="ejemplo@correo.com" />
      <div *ngIf="claimForm.get('email')?.invalid && claimForm.get('email')?.touched">
        <span class="error-message">
          <span *ngIf="claimForm.get('email')?.errors?.['required']">El email es requerido</span>
          <span *ngIf="claimForm.get('email')?.errors?.['email']">El email no es v치lido</span>
        </span>
      </div>
    </div>

    <div>
      <label for="status">Estado</label>
      <input id="status" formControlName="status" readonly />
    </div>

    <div class="form-actions">
      <button type="button" class="btn-secondary" routerLink="/claims">Cancelar</button>
      <button type="submit" class="btn-primary" [disabled]="!claimForm.valid">
        Guardar Reclamo
      </button>
    </div>
  </form>
</div>
